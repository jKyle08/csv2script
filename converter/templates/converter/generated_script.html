{% load static %}

<!DOCTYPE html>
<html>
<head>
    <title>Generated Script</title>
    <link rel="stylesheet" href="{% static 'css/uikit.min.css' %}">
    <style>
        textarea.uk-textarea {
            font-family: monospace;
            font-size: 14px;
            white-space: pre;
            overflow: auto;
        }
    </style>
</head>
<body>

<section class="uk-section uk-section-muted">
    <div class="uk-container">

        <h1 class="uk-heading-line uk-text-center"><span>Generated {{ format|upper }} Script</span></h1>

        <div class="uk-card uk-card-default uk-card-hover uk-card-small uk-width-1-1@m uk-margin-auto">
            <div class="uk-card-header">
                <h3 class="uk-card-title">Script Output</h3>
            </div>

            <div class="uk-card-body">
                <textarea class="uk-textarea" rows="20" readonly>{{ script }}</textarea>

                <div class="uk-margin-top uk-flex uk-flex-middle uk-flex-wrap">
                    <a href="{{ download_url }}" download class="uk-button uk-button-primary uk-button-small uk-margin-small-right">
                        Download Script
                    </a>
                    <a href="{% url 'upload_file' %}" class="uk-button uk-button-default uk-button-small">
                        Upload Another File
                    </a>
                </div>
            </div>

            <div class="uk-card-footer uk-text-meta">
                <p><strong>File:</strong> {{ file.file.name }}</p>
                {% if table_name_used and format != 'json' %}
                <p><strong>Table/Model Name Used:</strong> {{ table_name_used }}</p>
                {% endif %}
            </div>
        </div>

    </div>
</section>

<script src="{% static 'js/uikit.min.js' %}"></script>
<script src="{% static 'js/uikit-icons.min.js' %}"></script>
</body>
</html>
